@using IntelliTrackSolutionsWeb.Models.Expansion
@using System.Security.Claims
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">

    <title>@ViewData["Title"] - GameIntegratedSolution</title>

    <link rel="canonical" href="@ViewData[" Url_Domen"]"/>

    <meta property="og:url" content="@ViewData[" Url_Domen"]"/>
    <meta name="twitter:title" content="GameIntegratedSolution"/>
    <meta name="twitter:image" content="/img/webLogo/favicon.png"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="/img/webLogo/favicon.png"/>
    <meta name="description" content="GameIntegrated Solution: Инновационные решения для управления игровой информационной системой."/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:description" content="GameIntegrated Solution: Инновационные решения для управления игровой информационной системой."/>

    <link rel="icon" type="image/png" sizes="512x512" href="~/img/webLogo/favicon.png"/>
    <link rel="icon" type="image/png" sizes="512x512" href="~/img/webLogo/favicon.png"/>
    <link rel="icon" type="image/png" sizes="512x512" href="~/img/webLogo/favicon.png"/>
    <link rel="icon" type="image/png" sizes="512x512" href="~/img/webLogo/favicon.png"/>
    <link rel="icon" type="image/png" sizes="512x512" href="~/img/webLogo/favicon.png"/>
    <link rel="stylesheet" type="text/css" asp-href-include="~/css/**/*.css"/>
    <link rel="stylesheet" type="text/css" asp-href-include="~/lib/**/*.css"/>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>

    <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css"/>
</head>

<body class="body-game-m">
@{ await Html.RenderPartialAsync("ModalWindow/ShowModalWindow", ViewData["ModalWindow"] != null ? (ModalWindow)ViewData["ModalWindow"]! : null); }
<nav>
    <nav class="navbar navbar-dark align-items-start sidebar sidebar-dark accordion p-0 nav-game-monitoring">
        <div class="container-fluid d-flex flex-column p-0">
            <a class="navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0" asp-controller="Home" asp-action="Index" style="position: relative;width: auto;padding-right: 100px;">
                <div class="text-start sidebar-brand-text mx-3" style="width: 100%;height: 100%;">
                    <span class="text-start" style="color: black; width: 100%; height: 100%;">Game IT</span>
                </div>
            </a>
            <ul class="navbar-nav text-light d-xxl-flex justify-content-xxl-start align-items-xxl-start" id="accordionSidebar" style="width: 100%;height: 100%;margin-right: 40%;">
                <li class="nav-item">
                    <a class="nav-link @ViewData["Active_Monitor_Link"]" asp-controller="InformationSystem" asp-action="Monitoring">
                        <i class="fas fa-tachometer-alt"></i><span>Мониторинг</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link @ViewData["Active_Profile_Link"]" asp-controller="Users" asp-action="Edit">
                        <i class="far fa-user"></i><span>Профиль</span>&nbsp;
                    </a>
                </li>

                @if (User.GetClaimIssuer(ClaimTypes.System) != null)
                {
                    <li class="nav-item">
                        <a class="nav-link @ViewData["Active_LocationTableData_Link"]" asp-controller="Map" asp-action="LocationTableData">
                            <i class="fas fa-database"></i><span>Данные игровых локаций</span>&nbsp;
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link @ViewData["Active_SystemObjectTableData_Link"]" asp-controller="SystemObject" asp-action="SystemObjectTableData">
                            <i class="fas fa-database"></i><span>Игровые предметы</span>&nbsp;
                        </a>
                    </li>

                    @if (int.Parse(User.GetClaimIssuer(ClaimTypes.PrimaryGroupSid)!.Value) >= 5)
                    {
                        <li class="nav-item">
                            <a class="nav-link @ViewData["Active_AccessLevelTableData_Link"]" asp-controller="AccessLevel" asp-action="AccessLevelTableData">
                                <i class="fas fa-eye"></i><span>Уровни доступа</span>&nbsp;
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link @ViewData["Active_RoleTableData_Link"]" asp-controller="Role" asp-action="RoleTableData">
                                <i class="fas fa-id-badge"></i><span>Данные ролей</span>&nbsp;
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link @ViewData["Active_UserTableData_Link"]" asp-controller="Users" asp-action="UserTableData">
                                <i class="fas fa-address-card"></i><span>Данные пользователей</span>&nbsp;
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link @ViewData["Active_TaskTableData_Link"]" asp-controller="Task" asp-action="TaskTableData">
                                <i class="fas fa-book"></i><span>Задания Гильдии</span>&nbsp;
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link @ViewData["Active_ChatTableData_Link"]" asp-controller="Chat" asp-action="ChatTableData">
                                <i class="fas fa-comments"></i><span>Чаты</span>&nbsp;
                            </a>
                        </li>
                    }

                    @if (User.IsInOrganization(1) && int.Parse(User.GetClaimIssuer(ClaimTypes.PrimaryGroupSid)!.Value) >= 5)
                    {
                        <li class="nav-item">
                            <a class="nav-link @ViewData["Active_IS_Table_Link"]" asp-controller="InformationSystem" asp-action="InformationSystemTableData">
                                <i class="far fa-hdd"></i><span>Упр. подключёнными GP</span>
                            </a>
                        </li>
                    }

                    <li class="nav-item">
                        <a class="nav-link @ViewData["Active_Map_Link"]" asp-controller="Map" asp-action="Map">
                            <i class="fas fa-map-marked-alt"></i><span>Карта локаций</span>&nbsp;
                        </a>
                    </li>
                }

                <li class="nav-item">
                    <a class="nav-link" asp-controller="Home" asp-action="Index">
                        <i class="far fa-arrow-alt-circle-left"></i><span>Вернуться</span>&nbsp;
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</nav>
<main class="main-game-monitoring">
    <div class="container-fluid container-f-m">
        @(RenderBody())
    </div>
    <footer class="bg-white sticky-footer footer-game-m">
        <div class="container my-auto">
            <div class="text-center my-auto copyright">
                <span>Copyright © GameIntagratedSolutions 2023</span>
            </div>
        </div>
    </footer>
</main>
</body>

@(await RenderSectionAsync("Scripts", false))
<script asp-src-include="~/lib/**/*.js"></script>
<script asp-src-include="~/js/**/*.js"></script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js"></script>
</html>